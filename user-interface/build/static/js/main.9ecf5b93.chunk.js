(this["webpackJsonplocal-interface"]=this["webpackJsonplocal-interface"]||[]).push([[0],{142:function(e,t,n){},143:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(36),i=n.n(c),s=(n(142),n(16)),o=n(3),u=n(213),l=n(224),j=n(223),b=(n(143),n(117)),d=n(71),O=n(0);function f(e){var t=e.children,n=e.value,a=e.index,r=Object(b.a)(e,["children","value","index"]);return Object(O.jsx)("div",Object(s.a)(Object(s.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(O.jsx)(j.a,{sx:{p:2},children:Object(O.jsx)(d.a,{children:t})})}))}function x(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var m=n(13),p=n(225),h=n(208),v=n(210),g=n(234),S=n(207),C=n(236),y=n(237),E=n(238),w=n(221),_=n(216),k=n(235),I=n(27),N=n(50),F=n.n(N),T=n(67);function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var P=Object(I.b)("counter/fetchCount",function(){var e=Object(T.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),V=Object(I.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(P.pending,(function(e){e.status="loading"})).addCase(P.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),R=V.actions,D=(R.increment,R.decrement,R.incrementByAmount,V.reducer),W=Object(I.c)({name:"agentsTab",initialState:{agents:[],current_selected:-1,parameters:[],behaviours:[],actions:[]},reducers:{addParam:function(e,t){e.param_count+=1;var n=JSON.parse(JSON.stringify(e.parameters));n.push(t.payload),e.parameters=n},addBehav:function(e,t){e.behaviours.push(t.payload)},addAction:function(e,t){e.actions.push(t.payload)},reset:function(e,t){console.log("RESETING"),e.parameters=[],e.behaviours=[]}}}),M=W.actions,L=M.addParam,B=M.addBehav,H=M.reset,z=function(e){return e.agentsTab.parameters},G=function(e){return e.agentsTab.behaviours},J=W.reducer,U=Object(I.c)({name:"messageTab",initialState:{msg_type_count:0,current_selected:-1,messages:[],parameters:[],param_count:0},reducers:{addMessage:function(e,t){e.msg_type_count+=1,e.messages.push(t.payload)},addParam:function(e,t){e.param_count+=1;var n=JSON.parse(JSON.stringify(e.parameters));n.push(t.payload),e.parameters=n},setCurrentParam:function(e,t){e.current_selected=t.payload},clearParams:function(e,t){e.param_count=0,e.parameters=[]}}}),Q=U.actions,q=(Q.addMessage,Q.addParam),K=Q.setCurrentParam,$=Q.clearParams,Y=function(e){return e.messageTab.parameters},Z=U.reducer,X=Object(I.c)({name:"enumState",initialState:{enum_count:0,enums:[]},reducers:{addEnum:function(e,t){var n=t.payload.name;-1!==e.enums.find((function(e){return e.name===n}))&&(e.enum_count+=1,e.enums.push(t.payload))}}}),ee=X.actions.addEnum,te=function(e){return e.enumSlice.enums},ne=X.reducer,ae=Object(I.c)({name:"simulation",initialState:{agent_types:[],message_types:[],graph:{},names:[]},reducers:{addMessage:function(e,t){e.message_types.push(t.payload)},addAgent:function(e,t){e.agent_types.push(t.payload)},addName:function(e,t){e.names.push(t.payload)},setGraph:function(e,t){e.graph=t.payload}}}),re=ae.actions,ce=re.addMessage,ie=re.addAgent,se=re.addName,oe=re.setGraph,ue=function(e){return e.simulation.graph},le=function(e){return e.simulation.message_types},je=function(e){return e.simulation.agent_types},be=ae.reducer,de=Object(I.c)({name:"editor",initialState:{scopeVars:[],openBlocks:0,actions:[]},reducers:{addScopeVar:function(e,t){e.scopeVars.push(t.payload)},resetScope:function(e,t){console.log("resetting"),e.scopeVars=[]},resetActions:function(e,t){e.actions=[]},openBlock:function(e,t){e.openBlocks+=1},closeBlock:function(e,t){e.openBlocks-=1},addAction:function(e,t){e.actions.push(t.payload)}}}),Oe=de.actions,fe=Oe.addScopeVar,xe=Oe.resetScope,me=Oe.openBlock,pe=Oe.closeBlock,he=Oe.addAction,ve=Oe.resetActions,ge=function(e){return e.editor.scopeVars},Se=function(e){return e.editor.actions},Ce=function(e){return e.editor.openBlocks},ye=de.reducer,Ee=Object(I.a)({reducer:{counter:D,agentsTab:J,messageTab:Z,enumSlice:ne,simulation:be,editor:ye}}),we=["send","connections","rcv","len","round","list","filter","self","datetime","random","numpy","json","spade","copy","uuid","get_json_from_spade_message","get_spade_message","backupbehaviour","backup_url","backup_period","backup_delay","false","none","true","and","as","assert","async","await","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","nonlocal","not","or","pass","raise","return","try","while","with","yield"],_e=["AcceptProposal","Agree","Cancel","CallForProposal","Confirm","Disconfirm","Failure","Inform","InformIf","InformRef","NotUnderstood","Propagate","Propose","Proxy","QueryIf","QueryRef","Refuse","RejectProposal","Request","RequestWhen","RequestWhenever","Subscribe"],ke=/[!@#$%^&*()+`\-=[\]{};':"\\|,.<>/?]+/,Ie=[{code:101,info:"Name cannot be duplicate!"},{code:102,info:"Name cannot contain whitespaces!"},{code:103,info:"Name cannot start with a number!"},{code:104,info:"Name can't contain any of the following characters: ! @ # $ % ^ & * ( ) ` + - = [ ] { } ; ' : \" \\ | , . < > / ?"},{code:105,info:"Name can't be a reserved name. Consult documentation for reserved names."},{code:106,info:"Name cannot be empty!"},{code:201,info:"Select a valid performative type!"},{code:301,info:"Invalid value for a float"},{code:401,info:"Invalid distribution name!"},{code:402,info:"Invalid distribution arguments!"},{code:501,info:"Too few enum values! At least two enum values are required!"},{code:502,info:"The sum of percentages must be 100!"},{code:503,info:"Invalid init value!"},{code:901,info:"Unexpected error: Invalid param type! Contact the developers"}],Ne=function(e){return Pe(e)?102:isNaN(parseFloat(e[0]))?ke.test(e)?104:void 0!==we.find((function(t){return t===e.toLowerCase()}))?105:0===e.length?106:0:103},Fe=function(e){var t=Ee.getState(),n=Ne(e);return 0!==n?n:void 0!==t.simulation.agent_types.find((function(t){return t.name===e}))?101:0},Te=function(e,t){var n=Ee.getState(),a=Ne(e);return 0!==a?a:n.simulation.message_types.find((function(n){return n.name===e&&n.type===t}))?101:void 0===_e.find((function(e){return e===t}))?201:0},Ae=function(e){var t=Ee.getState(),n=Ne(e);return 0!==n?n:t.agentsTab.behaviours.find((function(t){return t.name===e}))?101:0};function Pe(e){return[" ","\t","\n"].some((function(t){return e.includes(t)}))}var Ve={normal:{name:"Normal",arg_count:2,param_names:["miu","sigma"],validate:function(e){return e.length===Ve.normal.arg_count&&!(e[1]<=0)}},exp:{name:"Exponential",arg_count:1,param_names:["lambda"],validate:function(e){return e.length===Ve.exp.arg_count&&!(e[0]<=0)}}},Re=n(226),De=n(212),We=n(220),Me=function(e){var t=e.save,n=Object(a.useState)("initVal"),r=Object(o.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(0),u=Object(o.a)(s,2),l=u[0],j=u[1],b=Object(a.useState)(Object.keys(Ve)[0]),d=Object(o.a)(b,2),f=d[0],x=d[1],h=Object(a.useState)([]),v=Object(o.a)(h,2),g=v[0],S=v[1],C=Object(a.useState)(""),y=Object(o.a)(C,2),E=y[0],k=y[1],I=Object(a.useState)({}),N=Object(o.a)(I,2),F=N[0],T=N[1],A=Object(a.useState)(!1),P=Object(o.a)(A,2),V=P[0],R=P[1],D=Object(a.useState)(""),W=Object(o.a)(D,2),M=W[0],L=W[1],B=function(){var e={};switch(e.name=E,e.type=c,c){case"initVal":e.initVal=l;break;case"distribution":e.distribution=f,e.distribution_args=g}T(e)};return Object(a.useEffect)((function(){B()}),[E,c,f,g]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(Re.a,{fullWidth:!0,sx:{marginTop:2},children:[Object(O.jsx)(p.a,{variant:"outlined",label:"Name",id:"param_name",value:E,onChange:function(e){return k(e.target.value)}}),Object(O.jsxs)(De.a,{value:c,onChange:function(e){return i(e.target.value)},children:[Object(O.jsx)(We.a,{value:"initVal",children:" Initial Value "}),Object(O.jsx)(We.a,{value:"distribution",children:" Draw from distribution "})]})]}),Object(O.jsxs)(Re.a,{fullWidth:!0,sx:{marginTop:2},children:["initVal"===c?Object(O.jsx)(p.a,{type:"number",id:"init_val_float",value:l,onChange:function(e){return t=e.target.value,j(t),void B();var t}}):"distribution"===c?Object(O.jsx)(De.a,{value:f,onChange:function(e){return function(e){var t=Ve[e].arg_count,n=Array(t);n.fill(0),S(n),x(e),B()}(e.target.value)},children:Object.keys(Ve).map((function(e){return Object(O.jsxs)(We.a,{value:e,children:[" ",Ve[e].name," "]},e)}))}):Object(O.jsx)(O.Fragment,{}),"distribution"===c?Object(m.a)(Array(Ve[f].arg_count).keys()).map((function(e,t){return Object(O.jsx)(p.a,{label:Ve[f].param_names[t],type:"number",value:g[t],onChange:function(e){!function(e,t){var n=t.split("_");if(n=parseInt(n[n.length-1]),!isNaN(n)){var a=Object(m.a)(g);a[n]=e,S(a)}B()}(e.target.value,e.target.id)},InputProps:{inputProps:{step:.1}},sx:{margin:1},id:f+"_param_"+t})})):Object(O.jsx)(O.Fragment,{})]}),V?Object(O.jsxs)(_.a,{severity:"error",onClose:function(e){return R(!1)},children:[" ",M," "]}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(w.a,{onClick:function(){var e=function(e){var t=e.name,n=Ee.getState(),a=Ne(t);if(0!==a)return a;if(n.agentsTab.parameters.find((function(e){return e.name===t})))return 101;switch(e.type){case"initVal":if(isNaN(parseFloat(e.initVal)))return 301;break;case"distribution":if(console.log(typeof e.distribution),console.log(e.distribution),void 0===Ve[e.distribution])return 401;if(!Ve[e.distribution].validate(e.distribution_args))return 402;break;default:return 901}return 0}(F);if(0!==e){var n=Ie.find((function(t){return t.code===e}));R(!0),L(n.info)}else t(F)},children:" Add parameter "})]})},Le=n(15),Be=n(206),He=n(233),ze=n(214),Ge=n(229),Je=n(228),Ue=n(231),Qe=n(113),qe=n.n(Qe),Ke=function(e){var t=e.addEnumVal,n=e.enumValName,a=e.onChangeField,r=e.error;return Object(O.jsxs)(Je.a,{component:"form",sx:{display:"flex",alignItems:"center"},children:[Object(O.jsx)(p.a,{sx:{ml:1,flex:1},placeholder:"Param name",value:n,onChange:function(e){a(e.target.value)},error:r,helperText:r?"Enum values must be non-empty and unique":"",id:"new_enum_val_name"}),Object(O.jsx)(Ue.a,{color:"primary",sx:{p:"10px"},onClick:t,children:Object(O.jsx)(qe.a,{})})]})},$e=n(218),Ye=n(205),Ze=n(232),Xe=n(114),et=n.n(Xe),tt=function(e){var t=e.enumState,n=e.enumVals,a=e.name,r=e.setPercentage,c=e.removeEnumVal,i=e.error;return Object(O.jsxs)($e.a,{disablePadding:!0,children:[Object(O.jsx)(Ye.a,{primary:a}),"percentages"===t?Object(O.jsx)(p.a,{value:n.find((function(e){return e.name===a})).percentage,onChange:function(t){return r(e.name,t.target.value)},type:"number",InputProps:{startAdornment:Object(O.jsx)(Ze.a,{position:"start",children:"%"}),inputProps:{step:.1,min:0,max:100}},error:i,sx:{width:90},id:e.name+"_percentage"}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(Ue.a,{color:"primary",sx:{p:"10px"},onClick:function(t){return c(e.name)},children:Object(O.jsx)(et.a,{})})]})},nt=function(e){var t=e.save,n=Object(a.useState)("new"),r=Object(o.a)(n,2),c=r[0],i=r[1],u=Object(a.useState)("init"),l=Object(o.a)(u,2),j=l[0],b=l[1],d=Object(a.useState)(0),f=Object(o.a)(d,2),x=f[0],h=f[1],v=Object(Le.c)(te),g=Object(a.useState)([]),S=Object(o.a)(g,2),C=S[0],y=S[1],E=Object(a.useState)(""),k=Object(o.a)(E,2),I=k[0],N=k[1],F=Object(a.useState)(!1),T=Object(o.a)(F,2),A=T[0],P=T[1],V=Object(a.useState)(!1),R=Object(o.a)(V,2),D=R[0],W=R[1],M=Object(a.useState)(0),L=Object(o.a)(M,2),B=L[0],H=L[1],z=Object(a.useState)(""),G=Object(o.a)(z,2),J=G[0],U=G[1],Q=Object(a.useState)({}),q=Object(o.a)(Q,2),K=q[0],$=q[1],Y=Object(a.useState)(!1),Z=Object(o.a)(Y,2),X=Z[0],ee=Z[1],ne=Object(a.useState)(""),ae=Object(o.a)(ne,2),re=ae[0],ce=ae[1],ie=function(e){y(C.filter((function(t){return t.name!==e}))),oe()},se=function(e,t){var n=JSON.parse(JSON.stringify(C)),a=n.findIndex((function(t){return t.name===e}));-1!==a&&(n[a].percentage=t),y(n);for(var r=0,c=0;c<n.length;c++)r+=parseFloat(n[c].percentage);W(100!==r),oe()},oe=function(){var e={};switch(e.type=c,e.name=J,c){case"new":switch(e.state=j,j){case"init":var t=Object(m.a)(C);t=t.map((function(e,t){return t===B?Object(s.a)(Object(s.a)({},e),{},{percentage:"100"}):e})),e.enumVals=t;break;case"percentages":e.enumVals=C}break;case"existing":e.oldEnumData=v[x]}$(e)};return Object(a.useEffect)((function(){oe()}),[J,c,C]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(Re.a,{fullWidth:!0,sx:{marginTop:2},children:["new"===c?Object(O.jsx)(p.a,{variant:"outlined",label:"Name",id:"param_name",value:J,onChange:function(e){return U(e.target.value)}}):Object(O.jsx)(O.Fragment,{}),Object(O.jsxs)(De.a,{value:c,onChange:function(e){return i(e.target.value)},children:[Object(O.jsx)(We.a,{value:"new",children:" New enumerable "}),Object(O.jsx)(We.a,{value:"existing",children:" Existing enumerable "})]}),"new"===c?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(Be.a,{value:j,onChange:function(e){return t=e.target.value,b(t),void oe();var t},children:[Object(O.jsx)(He.a,{value:"init",control:Object(O.jsx)(ze.a,{}),label:"Initial state"}),Object(O.jsx)(He.a,{value:"percentages",control:Object(O.jsx)(ze.a,{}),label:"Percentages"})]}),"init"===j&&C.length>0?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(De.a,{value:B,onChange:function(e){return t=e.target.value,H(t),void oe();var t},sx:{margin:1},children:[" ",C.map((function(e,t){return Object(O.jsxs)(We.a,{value:t,children:[" ",e.name," "]})}))]})}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(Ge.a,{children:C.map((function(e){return Object(O.jsx)(tt,{name:e.name,enumState:j,enumVals:C,setPercentage:se,removeEnumVal:ie,error:D})}))}),Object(O.jsx)(Ke,{addEnumVal:function(){if(C.some((function(e){return e.name===I}))||""===I)P(!0);else{var e={name:I,percentage:0};y((function(t){return[].concat(Object(m.a)(t),[e])})),N("")}oe()},enumValName:I,onChangeField:function(e){N(e),P(!1)},error:A})]}):"existing"===c?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(De.a,{value:x,onChange:function(e){return h(e.target.value)},sx:{margin:1},children:v.map((function(e,t){return Object(O.jsxs)(We.a,{value:t,children:[" ",e.name," "]})}))})}):Object(O.jsx)(O.Fragment,{})]}),X?Object(O.jsxs)(_.a,{severity:"error",onClose:function(e){return ee(!1)},children:[" ",re," "]}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(w.a,{onClick:function(){var e=function(e){var t=e.name,n=Ee.getState(),a=Ne(t);if(0!==a)return a;if(n.agentsTab.parameters.find((function(e){return e.name===t})))return 101;switch(e.type){case"new":var r=e.enumVals;if(r.length<2)return 501;switch(e.state){case"init":if(1!==r.filter((function(e){return 100===parseFloat(e.percentage)})).length)return 503;break;case"percentages":for(var c=0,i=0;i<r.length;i++)c+=parseFloat(r[i].percentage);if(100!==c)return 502;break;default:return 901}break;case"existing":return 0;default:return 901}return 0}(K);if(0===e)t(K);else{ee(!0);var n=Ie.find((function(t){return t.code===e}));ce(n.info)}},children:" Add parameter "})]})},at=function(e){var t=e.save,n=Object(a.useState)("conns"),r=Object(o.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(""),u=Object(o.a)(s,2),l=u[0],j=u[1],b=Object(a.useState)({}),d=Object(o.a)(b,2),f=d[0],x=d[1],m=Object(a.useState)(!1),h=Object(o.a)(m,2),v=h[0],g=h[1],S=Object(a.useState)(""),C=Object(o.a)(S,2),y=C[0],E=C[1],k=function(){var e={};e.type=c,e.name=l,x(e)};return Object(a.useEffect)((function(){k()}),[l,c]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(Re.a,{fullWidth:!0,xd:{marginTop:2},children:[Object(O.jsx)(p.a,{variant:"outlined",label:"Name",id:"param_name",value:l,onChange:function(e){return j(e.target.value)}}),Object(O.jsxs)(De.a,{value:c,onChange:function(e){return t=e.target.value,i(t),void k();var t},children:[Object(O.jsx)(We.a,{value:"conns",children:" Connections "}),Object(O.jsx)(We.a,{value:"msgs",children:" Messages "})]})]}),v?Object(O.jsxs)(_.a,{severity:"error",onClose:function(e){return g(!1)},children:[" ",y," "]}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(w.a,{onClick:function(){var e=function(e){var t=e.name,n=Ee.getState(),a=Ne(t);return 0!==a?a:n.agentsTab.parameters.find((function(e){return e.name===t}))?101:0}(f);if(0!==e){g(!0);var n=Ie.find((function(t){return t.code===e}));E(n.info)}else t(f)},children:" Add parameter "})]})};var rt=function(e){var t=Object(Le.b)(),n=e.onClose,a=e.open,r=e.type,c=e.addParam,i=function(e){var a=function(e){var t={};if(t.name=e.name,""===t.name&&"existing"!==e.type)return null;switch(e.type){case"initVal":t.type="float",t.mode="init";var n=parseFloat(e.initVal);return isNaN(n)?null:(t.value=e.initVal,t);case"distribution":t.type="float",t.mode="distribution",t.distribution=e.distribution;for(var a=0;a<Ve[t.distribution].arg_count;a++)if(isNaN(parseFloat(e.distribution_args[a])))return null;return t.distribution_args=e.distribution_args,t;case"new":switch(t.state=e.state,e.state){case"init":t.type="enum",t.mode="new_init",t.values=e.enumVals;var r=parseFloat(e.selectedInit);return t.values.length<2||r<0||r>=t.values.length?null:(t.selectedInit=e.selectedInit,t);case"percentages":t.type="enum",t.mode="new_percentages",t.values=e.enumVals;for(var c=0,i=0;i<t.values.length;i++)c+=parseFloat(t.values[i].percentage);return 100!==c?null:t;default:return null}case"existing":switch(t.name=e.oldEnumData.name,e.oldEnumData.state){case"init":return t.type="enum",t.mode="existing_init",t.values=e.oldEnumData.values,t.selectedInit=e.oldEnumData.selectedInit,t;case"percentages":return t.type="enum",t.mode="exiting_percentages",t.values=e.oldEnumData.values,t;default:return null}case"conns":return t.type="list",t.mode="conn",t;case"msgs":return t.type="list",t.mode="msg",t;default:return null}}(e);null==a?n(!0):(t(c(a)),"new"===e.type&&t(ee(a)),n(!1))},s=function(){switch(r){case"float":return Object(O.jsx)(Me,{save:i});case"enum":return Object(O.jsx)(nt,{save:i});case"list":return Object(O.jsx)(at,{save:i});default:return Object(O.jsx)(O.Fragment,{})}};return Object(O.jsx)(g.a,{onClose:function(e,t){n(!1)},open:a,disableAutoFocus:!0,disableEnforceFocus:!0,fullWidth:!0,maxWidth:"md",children:Object(O.jsxs)(k.a,{sx:{padding:3},children:[Object(O.jsx)(S.a,{children:" New parameter "}),Object(O.jsx)(s,{})]})})},ct=n(162),it=n(230),st=n(18),ot=n.n(st),ut=n(211),lt=[{opcode:"ADD ",label:"+="},{opcode:"SUBT",label:"-="},{opcode:"MULT",label:"*="},{opcode:"DIV ",label:"/="}],jt=function(e){var t=e.save,n=e.setEditOn,r=e.lhsCandidates,c=e.rhsCandidates,i=Object(a.useState)(""),u=Object(o.a)(i,2),l=u[0],j=u[1],b=Object(a.useState)(!1),d=Object(o.a)(b,2),f=d[0],x=d[1],m=Object(a.useState)(""),v=Object(o.a)(m,2),g=v[0],S=v[1],C=Object(a.useState)(!1),y=Object(o.a)(C,2),E=y[0],w=y[1],_=Object(a.useState)(lt[0].opcode),k=Object(o.a)(_,2),I=k[0],N=k[1];return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(ut.a,{freeSolo:!0,options:r.map((function(e,t){return void 0===e?"":e.name})),renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"200px"},error:f,value:l,inputValue:l,onInputChange:function(e,t){return function(e){j(e)}(t)},helperText:"LHS must be a valid property"}),Object(O.jsx)(De.a,{value:I,onChange:function(e){return N(e.target.value)},children:lt.map((function(e,t){return Object(O.jsxs)(We.a,{value:e.opcode,children:[" ",e.label," "]})}))}),Object(O.jsx)(ut.a,{freeSolo:!0,options:c.map((function(e,t){return e.name})),renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"200px"},error:E,value:g,inputValue:g,onInputChange:function(e,t){return function(e){S(e)}(t)},helperText:"RHS must be a valid property or a number"}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){var e=!1;if(-1===r.findIndex((function(e){return e.name===l}))&&(x(!0),e=!0),-1===c.findIndex((function(e){return e.name===g}))&&isNaN(parseFloat(g))&&(w(!0),e=!0),!e){var a=l+" "+lt.find((function(e){return e.opcode===I})).label+" "+g;t(a,I+"    "+l+","+g),n(!1),x(!1),w(!1)}},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},bt=function(e){return Object(O.jsx)(j.a,{sx:{width:"70px",textAlign:"center",verticalAlign:"middle",p:"15px"},children:e.text})},dt=function(e){var t=e.save,n=e.setEditOn,r=e.variables,c=Object(Le.b)(),i=function(e){var t=r.find((function(t){return t.name===e}));return t?t.type:""},u=Object(a.useState)(""),l=Object(o.a)(u,2),j=l[0],b=l[1],d=Object(a.useState)(!1),f=Object(o.a)(d,2),x=f[0],m=f[1],v=Object(a.useState)(""),g=Object(o.a)(v,2),S=g[0],C=g[1],y=Object(a.useState)(!1),E=Object(o.a)(y,2),w=E[0],_=E[1];return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(bt,{text:"Let: "}),Object(O.jsx)(p.a,{value:j,onChange:function(e){return t=e.target.value,void b(t);var t},error:x,helperText:"LHS must be a new identifier"}),Object(O.jsx)(bt,{text:" = "}),Object(O.jsx)(ut.a,{freeSolo:!0,options:r.map((function(e,t){return e.name})),renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"200px"},error:w,value:S,inputValue:S,onInputChange:function(e,t){return function(e){C(e)}(t)},helperText:"RHS must be a valid property or a number"}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){var e=!1;(-1!==r.findIndex((function(e){return e.name===j}))&&(m(!0),e=!0),-1===r.findIndex((function(e){return e.name===S}))&&isNaN(parseFloat(S))&&(_(!0),e=!0),e)||(isNaN(parseFloat(S))?c(fe({name:j,type:i(S)})):c(fe({name:j,type:"float"})),t("let "+j+" = "+S,"DECL    "+j+","+S),n(!1))},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},Ot=[{opcode:"ILT  ",label:"<"},{opcode:"IGT  ",label:">"},{opcode:"ILTE ",label:">="},{opcode:"IGTE ",label:">="},{opcode:"IEQ  ",label:"=="},{opcode:"INEQ ",label:"!="}],ft=function(e){var t=e.save,n=e.setEditOn,r=e.variables,c=Object(Le.b)(),i=Object(a.useState)(""),u=Object(o.a)(i,2),l=u[0],j=u[1],b=Object(a.useState)(!1),d=Object(o.a)(b,2),f=d[0],x=d[1],m=Object(a.useState)(""),v=Object(o.a)(m,2),g=v[0],S=v[1],C=Object(a.useState)(!1),y=Object(o.a)(C,2),E=y[0],w=y[1],_=Object(a.useState)(Ot[0].opcode),k=Object(o.a)(_,2),I=k[0],N=k[1];return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(ut.a,{freeSolo:!0,options:r.map((function(e,t){return e.name})),renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"200px"},error:f,value:l,inputValue:l,onInputChange:function(e,t){return function(e){j(e)}(t)},helperText:"LHS must be a valid variable or a number"}),Object(O.jsx)(De.a,{value:I,onChange:function(e){return N(e.target.value)},children:Ot.map((function(e,t){return Object(O.jsxs)(We.a,{value:e.opcode,children:[" ",e.label," "]})}))}),Object(O.jsx)(ut.a,{freeSolo:!0,options:r.map((function(e,t){return e.name})),renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"200px"},error:E,value:g,inputValue:g,onInputChange:function(e,t){return function(e){S(e)}(t)},helperText:"RHS must be a valid variable or a number"}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){var e=!1;if(-1===r.findIndex((function(e){return e.name===l}))&&isNaN(parseFloat(l))&&(x(!0),e=!0),-1===r.findIndex((function(e){return e.name===g}))&&isNaN(parseFloat(g))&&(w(!0),e=!0),!e){var a="If "+l+" "+Ot.find((function(e){return e.opcode===I})).label+" "+g,i=I+"    "+l+","+g;c(me()),t(a,i),n(!1),x(!1),w(!1)}},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},xt=[{opcode:"IEQ ",label:"=="},{opcode:"INEQ",label:"!="}],mt=function(e){var t=e.save,n=e.setEditOn,r=e.variables,c=Object(Le.b)(),i=Object(a.useState)(""),u=Object(o.a)(i,2),l=u[0],j=u[1],b=Object(a.useState)(!1),d=Object(o.a)(b,2),f=d[0],x=d[1],m=Object(a.useState)(""),v=Object(o.a)(m,2),g=v[0],S=v[1],C=Object(a.useState)(!1),y=Object(o.a)(C,2),E=y[0],w=y[1],_=Object(a.useState)(xt[0].opcode),k=Object(o.a)(_,2),I=k[0],N=k[1],F=Object(a.useState)([]),T=Object(o.a)(F,2),A=T[0],P=T[1];return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(ut.a,{freeSolo:!0,options:r.map((function(e,t){return e.name})),renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"200px"},error:f,value:l,inputValue:l,onInputChange:function(e,t){return function(e){j(e);var t=r.find((function(t){return t.name===e}));P(t.values.map((function(e,t){return e.name})))}(t)},helperText:"LHS must be a valid variable or a number"}),Object(O.jsx)(De.a,{value:I,onChange:function(e){return N(e.target.value)},children:xt.map((function(e,t){return Object(O.jsxs)(We.a,{value:e.opcode,children:[" ",e.label," "]})}))}),Object(O.jsx)(ut.a,{freeSolo:!0,options:A,renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"200px"},error:E,value:g,inputValue:g,disabled:""===l,onInputChange:function(e,t){return function(e){S(e)}(t)},helperText:"RHS must be a valid variable or a number"}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){var e=!1;if(-1===r.findIndex((function(e){return e.name===l}))&&isNaN(parseFloat(l))&&(x(!0),e=!0),-1===A.findIndex((function(e){return e===g}))&&isNaN(parseFloat(g))&&(w(!0),e=!0),!e){var a="If "+l+" "+xt.find((function(e){return e.opcode===I})).label+" "+g,i=I+"    "+l+","+g;c(me()),t(a,i),n(!1),x(!1),w(!1)}},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},pt=function(e){var t=e.save,n=Object(Le.b)();return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(bt,{text:"End conditional block"}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){n(pe()),t("End block","EBLOCK")},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},ht=[{opcode:"WEQ  ",label:"=="},{opcode:"WNEQ ",label:"!="}],vt=function(e){var t=e.save,n=e.setEditOn,r=e.variables,c=Object(Le.b)(),i=Object(a.useState)(""),u=Object(o.a)(i,2),l=u[0],j=u[1],b=Object(a.useState)(!1),d=Object(o.a)(b,2),f=d[0],x=d[1],m=Object(a.useState)(""),v=Object(o.a)(m,2),g=v[0],S=v[1],C=Object(a.useState)(!1),y=Object(o.a)(C,2),E=y[0],w=y[1],_=Object(a.useState)(ht[0].opcode),k=Object(o.a)(_,2),I=k[0],N=k[1],F=Object(a.useState)([]),T=Object(o.a)(F,2),A=T[0],P=T[1];return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(ut.a,{freeSolo:!0,options:r.map((function(e,t){return e.name})),renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"200px"},error:f,value:l,inputValue:l,onInputChange:function(e,t){return function(e){j(e);var t=r.find((function(t){return t.name===e}));P(t.values.map((function(e,t){return e.name})))}(t)},helperText:"LHS must be a valid variable or a number"}),Object(O.jsx)(De.a,{value:I,onChange:function(e){return N(e.target.value)},children:ht.map((function(e,t){return Object(O.jsxs)(We.a,{value:e.opcode,children:[" ",e.label," "]})}))}),Object(O.jsx)(ut.a,{freeSolo:!0,options:A,renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"200px"},error:E,value:g,inputValue:g,disabled:""===l,onInputChange:function(e,t){return function(e){S(e)}(t)},helperText:"RHS must be a valid variable or a number"}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){var e=!1;if(-1===r.findIndex((function(e){return e.name===l}))&&isNaN(parseFloat(l))&&(x(!0),e=!0),-1===A.findIndex((function(e){return e===g}))&&isNaN(parseFloat(g))&&(w(!0),e=!0),!e){var a="While "+l+" "+ht.find((function(e){return e.opcode===I})).label+" "+g+" do:",i=I+"    "+l+","+g;c(me()),t(a,i),n(!1),x(!1),w(!1)}},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},gt=[{opcode:"WLT  ",label:"<"},{opcode:"WGT  ",label:">"},{opcode:"WLTE ",label:">="},{opcode:"WGTE ",label:">="},{opcode:"WEQ  ",label:"=="},{opcode:"WNEQ ",label:"!="}],St=function(e){var t=e.save,n=e.setEditOn,r=e.variables,c=Object(Le.b)(),i=Object(a.useState)(""),u=Object(o.a)(i,2),l=u[0],j=u[1],b=Object(a.useState)(!1),d=Object(o.a)(b,2),f=d[0],x=d[1],m=Object(a.useState)(""),v=Object(o.a)(m,2),g=v[0],S=v[1],C=Object(a.useState)(!1),y=Object(o.a)(C,2),E=y[0],w=y[1],_=Object(a.useState)(gt[0].opcode),k=Object(o.a)(_,2),I=k[0],N=k[1];return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(ut.a,{freeSolo:!0,options:r.map((function(e,t){return e.name})),renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"200px"},error:f,value:l,inputValue:l,onInputChange:function(e,t){return function(e){j(e)}(t)},helperText:"LHS must be a valid variable or a number"}),Object(O.jsx)(De.a,{value:I,onChange:function(e){return N(e.target.value)},children:gt.map((function(e,t){return Object(O.jsxs)(We.a,{value:e.opcode,children:[" ",e.label," "]})}))}),Object(O.jsx)(ut.a,{freeSolo:!0,options:r.map((function(e,t){return e.name})),renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"200px"},error:E,value:g,inputValue:g,onInputChange:function(e,t){return function(e){S(e)}(t)},helperText:"RHS must be a valid variable or a number"}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){var e=!1;if(-1===r.findIndex((function(e){return e.name===l}))&&isNaN(parseFloat(l))&&(x(!0),e=!0),-1===r.findIndex((function(e){return e.name===g}))&&isNaN(parseFloat(g))&&(w(!0),e=!0),!e){var a="While "+l+" "+gt.find((function(e){return e.opcode===I})).label+" "+g+" do:",i=I+"    "+l+","+g;c(me()),t(a,i),n(!1),x(!1),w(!1)}},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},Ct=function(e){var t=e.lhsCandidates,n=e.rhsCandidates,r=e.save,c=e.setEditOn,i=Object(a.useState)(void 0===t[0]?"":t[0].name),u=Object(o.a)(i,2),l=u[0],j=u[1],b=Object(a.useState)(""),d=Object(o.a)(b,2),f=d[0],x=d[1],m=Object(a.useState)(!1),v=Object(o.a)(m,2),g=v[0],S=v[1];return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(De.a,{value:l,onChange:function(e){return j(e.target.value)},children:t.map((function(e,t){return void 0===e?Object(O.jsx)(O.Fragment,{}):Object(O.jsxs)(We.a,{value:e.name,children:[" ",e.name," (",e.type,") "]})}))}),Object(O.jsx)(bt,{text:"="}),Object(O.jsx)(ut.a,{freeSolo:!0,options:n.map((function(e,t){return e.name})),renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"200px"},value:f,inputValue:f,onInputChange:function(e,t){return function(e){x(e)}(t)},error:g}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){var e=!1;(-1===n.findIndex((function(e){return e.name===f}))&&isNaN(parseFloat(f))&&(S(!0),e=!0),e)||(r(l+" = "+f,"SET     "+l+","+f),c(!1),S(!1))},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},yt=[{opcode:"IN  ",label:"in"},{opcode:"NIN ",label:"not in"}],Et=function(e){var t=e.save,n=e.setEditOn,r=e.lhsCandidates,c=e.rhsCandidates,i=Object(a.useState)(""),s=Object(o.a)(i,2),u=s[0],l=s[1],j=Object(a.useState)(""),b=Object(o.a)(j,2),d=b[0],f=b[1],x=Object(a.useState)(yt[0].opcode),m=Object(o.a)(x,2),p=m[0],v=m[1];return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(De.a,{value:u,onChange:function(e){return l(e.target.value)},children:r.map((function(e,t){return Object(O.jsxs)(We.a,{value:e.name,children:["  ",e.name," (",e.type,") "]})}))}),Object(O.jsx)(De.a,{value:p,onChange:function(e){return v(e.target.value)},children:yt.map((function(e,t){return Object(O.jsxs)(We.a,{value:e.opcode,children:[" ",e.label," "]})}))}),Object(O.jsx)(De.a,{value:d,onChange:function(e){return f(e.target.value)},children:c.map((function(e,t){return Object(O.jsxs)(We.a,{value:e.name,children:["  ",e.name," (",e.type,") "]})}))}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){if(""!==u&&""!==d){var e=yt.find((function(e){return e.opcode===p})),a="If "+u+" "+e.label+" "+d,r=e.opcode+d+","+u;t(a,r),n(!1)}},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},wt=function(e){var t=e.save,n=e.setEditOn,r=e.lhsCandidates,c=e.rhsCandidates,i=Object(a.useState)(void 0===r[0]?"":r[0].name),s=Object(o.a)(i,2),u=s[0],l=s[1],j=Object(a.useState)(""),b=Object(o.a)(j,2),d=b[0],f=b[1],x=Object(a.useState)([]),m=Object(o.a)(x,2),p=m[0],v=m[1];Object(a.useEffect)((function(){var e=r.find((function(e){return e.name===u}));if(void 0!==e){var t=[];switch(e.type){case"conn":t=c.filter((function(e){return"jid"===e.type})),v(t);break;case"msg":t=c.filter((function(e){return"msg"===e.type})),v(t)}}}),[u]);return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(bt,{text:"To "}),Object(O.jsx)(De.a,{value:u,onChange:function(e){return l(e.target.value)},children:r.map((function(e,t){return void 0===e?Object(O.jsx)(O.Fragment,{}):Object(O.jsxs)(We.a,{value:e.name,children:[" ",e.name," (",e.type,") "]})}))}),Object(O.jsx)(bt,{text:"add"}),Object(O.jsx)(De.a,{value:d,onChange:function(e){return f(e.target.value)},children:p.map((function(e,t){return void 0===e?Object(O.jsx)(O.Fragment,{}):Object(O.jsxs)(We.a,{value:e.name,children:[" ",e.name," (",e.type,") "]})}))}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){t("Add "+d+"to"+u,"ADDE    "+u+","+d),n(!1)},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},_t=function(e){var t=e.save,n=e.setEditOn,r=e.lhsCandidates,c=e.rhsCandidates,i=Object(a.useState)(void 0===r[0]?"":r[0].name),s=Object(o.a)(i,2),u=s[0],l=s[1],j=Object(a.useState)(""),b=Object(o.a)(j,2),d=b[0],f=b[1],x=Object(a.useState)([]),m=Object(o.a)(x,2),p=m[0],v=m[1];Object(a.useEffect)((function(){var e=r.find((function(e){return e.name===u}));if(void 0!==e){var t=[];switch(e.type){case"conn":t=c.filter((function(e){return"jid"===e.type})),v(t);break;case"msg":t=c.filter((function(e){return"msg"===e.type})),v(t)}}}),[u]);return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(bt,{text:"To "}),Object(O.jsx)(De.a,{value:u,onChange:function(e){return l(e.target.value)},children:r.map((function(e,t){return void 0===e?Object(O.jsx)(O.Fragment,{}):Object(O.jsxs)(We.a,{value:e.name,children:[" ",e.name," (",e.type,")"]})}))}),Object(O.jsx)(bt,{text:"remove"}),Object(O.jsx)(De.a,{value:d,onChange:function(e){return f(e.target.value)},children:p.map((function(e,t){return void 0===e?Object(O.jsx)(O.Fragment,{}):Object(O.jsxs)(We.a,{value:e.name,children:[" ",e.name," (",e.type,") "]})}))}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){t("Remove "+d+"from"+u,"REME    "+u+","+d),n(!1)},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},kt=function(e){var t=e.save,n=e.setEditOn,r=e.variables,c=Object(a.useState)(void 0===r[0]?"":r[0].name),i=Object(o.a)(c,2),s=i[0],u=i[1],l=Object(a.useState)(""),j=Object(o.a)(l,2),b=j[0],d=j[1];return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(bt,{text:"To "}),Object(O.jsx)(De.a,{value:s,onChange:function(e){return u(e.target.value)},children:r.map((function(e,t){return void 0===e?Object(O.jsx)(O.Fragment,{}):Object(O.jsxs)(We.a,{value:e.name,children:[" ",e.name," (",e.type,") "]})}))}),Object(O.jsx)(bt,{text:"remove"}),Object(O.jsx)(p.a,{value:b,onChange:function(e){return d(e.target.value)},type:"number"}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){parseFloat(b)||(t("Remove "+b+" elements from"+s,"REMEN   "+s+","+b),n(!1))},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},It=function(e){var t=e.save,n=e.setEditOn,r=e.variables,c=Object(a.useState)(""),i=Object(o.a)(c,2),s=i[0],u=i[1];return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(bt,{text:"Clear list"}),Object(O.jsx)(De.a,{value:s,onChange:function(e){return u(e.target.value)},children:r.map((function(e,t){return Object(O.jsxs)(We.a,{value:e.name,children:[" ",e.name," (",e.type,") "]})}))}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){t("Clear "+s,"CLR     "+s),n(!1)},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},Nt=function(e){var t=e.save,n=e.setEditOn,r=e.variables,c=Object(a.useState)(""),i=Object(o.a)(c,2),u=i[0],l=i[1],j=Object(a.useState)(""),b=Object(o.a)(j,2),d=b[0],f=b[1],x=Object(a.useState)(!1),m=Object(o.a)(x,2),v=m[0],g=m[1],S=Object(a.useState)([]),C=Object(o.a)(S,2),y=C[0],E=C[1];return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(De.a,{value:u,onChange:function(e){return function(e){l(e);var t=r.find((function(t){return t.name===e}));E(t.values.map((function(e,t){return e.name})))}(e.target.value)},children:r.map((function(e,t){return Object(O.jsxs)(We.a,{value:e.name,children:[" ",e.name," (",e.type,") "]})}))}),Object(O.jsx)(bt,{text:"="}),Object(O.jsx)(De.a,{value:d,onChange:function(e){return f(e.target.value)},disabled:""===u,children:y.map((function(e,t){return Object(O.jsxs)(We.a,{value:e,children:[" ",e," (enum value) "]})}))}),Object(O.jsx)(ut.a,{freeSolo:!0,options:y,renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"200px"},error:v,value:d,inputValue:d,disabled:""===u,onInputChange:function(e,t){return function(e){f(e)}(t)},helperText:"RHS must be a valid variable or a number"}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){var e=!1;(-1!==y.findIndex((function(e){return e===d}))&&isNaN(parseFloat(d))||(g(!0),e=!0),e)||(t(u+" = "+d,"SET     "+u+","+d),n(!1),g(!1))},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},Ft=function(e){var t=e.save,n=e.setEditOn,r=e.connLists,c=Object(a.useState)(""),i=Object(o.a)(c,2),s=i[0],u=i[1];console.log(r);return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(bt,{text:"Send the message to: "}),Object(O.jsx)(De.a,{value:s,onChange:function(e){return u(e.target.value)},children:r.map((function(e,t){return Object(O.jsxs)(We.a,{value:e.name,children:[" ",e.name," (",e.type,") "]})}))}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){t("Send to "+s,"SEND    "+s),n(!1)},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},Tt=function(e){var t=e.save,n=e.setEditOn,r=e.lhsCandidates,c=e.rhsCandidates,i=Object(a.useState)(""),s=Object(o.a)(i,2),u=s[0],l=s[1],j=Object(a.useState)(""),b=Object(o.a)(j,2),d=b[0],f=b[1];return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(bt,{text:"Let "}),Object(O.jsx)(De.a,{value:u,onChange:function(e){return l(e.target.value)},children:r.map((function(e,t){return Object(O.jsxs)(We.a,{value:e.name,children:[" ",e.name," (",e.type,") "]})}))}),Object(O.jsx)(bt,{text:"be the length of "}),Object(O.jsx)(De.a,{value:d,onChange:function(e){return f(e.target.value)},children:c.map((function(e,t){return Object(O.jsxs)(We.a,{value:e.name,children:[" ",e.name," (",e.type,") "]})}))}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){""!==u&&""!==d&&(t("Let "+u+"= len("+d+")","LEN     "+u+","+d),n(!1))},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},At=function(e){var t=e.save,n=e.setEditOn,r=e.lhsCandidates,c=e.rhsCandidates,i=e.numCandidates,u=Object(a.useState)(""),l=Object(o.a)(u,2),j=l[0],b=l[1],d=Object(a.useState)(""),f=Object(o.a)(d,2),x=f[0],m=f[1],v=Object(a.useState)(1),g=Object(o.a)(v,2),S=g[0],C=g[1],y=Object(a.useState)(!1),E=Object(o.a)(y,2),w=E[0],_=E[1],k=Object(a.useState)(!1),I=Object(o.a)(k,2),N=(I[0],I[1]);return Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(bt,{text:"Let "}),Object(O.jsx)(De.a,{value:j,onChange:function(e){return b(e.target.value)},children:r.map((function(e,t){return void 0===e?Object(O.jsx)(O.Fragment,{}):Object(O.jsxs)(We.a,{value:e.name,children:[" ",e.name," (",e.type,") "]})}))}),Object(O.jsx)(bt,{text:"contain"}),Object(O.jsx)(ut.a,{options:i.map((function(e,t){return e.name})),renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"200px"},value:S,inputValue:S,onInputChange:function(e,t){return C(t)},error:w}),Object(O.jsx)(bt,{text:"elements of"}),Object(O.jsx)(De.a,{value:x,onChange:function(e){return m(e.target.value)},children:c.map((function(e,t){return void 0===e?Object(O.jsx)(O.Fragment,{}):Object(O.jsxs)(We.a,{value:e.name,children:[" ",e.name," (",e.type,") "]})}))}),Object(O.jsx)(Ue.a,{sx:{p:"10px"},color:"primary",onClick:function(){var e=!1;isNaN(parseInt(S))?void 0===i.find(S)&&(e=!0,_(!0)):parseInt(S)<1&&(e=!0,_(!0));var a=r.find((function(e){return e.name===j})),s=c.find((function(e){return e.name===x}));(void 0!==a&&void 0!==s?a.mode!==s.mode&&(e=!0,N(!0)):e=!0,e)||(t("Let "+j+" contain "+S+" elements of "+x,"SUBS    "+j+","+x+","+S),n(!1),_(!1))},children:Object(O.jsx)(ot.a,{sx:{fontSize:"30px"}})})]})},Pt=[{name:"connCount",type:"float"},{name:"msgRCount",type:"float"},{name:"msgSCount",type:"float"}],Vt=function(e){var t=e.save,n=e.editOn,r=e.setEditOn,c=e.statementType,i=e.sndMsg,u=e.rcvMsg,l=Object(Le.c)(z),j=Object(Le.c)(ge),b=Object(a.useState)([]),d=Object(o.a)(b,2),f=d[0],x=d[1],p=Object(a.useState)([]),h=Object(o.a)(p,2),v=h[0],g=h[1],S=Object(a.useState)([]),C=Object(o.a)(S,2),y=C[0],E=C[1],w=Object(a.useState)([]),_=Object(o.a)(w,2),k=_[0],I=_[1],N=Object(a.useState)([]),F=Object(o.a)(N,2),T=(F[0],F[1]),A=Object(a.useState)([]),P=Object(o.a)(A,2),V=P[0],R=P[1],D=Object(a.useState)([]),W=Object(o.a)(D,2),M=W[0],L=W[1],B={name:"RCV.sender",type:"jid"},H={name:"RCV",type:"msg"},G={name:"SEND",type:"msg"},J={name:"connections",type:"list",mode:"conn"};if(Object(a.useEffect)((function(){var e=l.filter((function(e,t){return"float"===e.type})),t=[].concat(Object(m.a)(j),Object(m.a)(e)),n=Object(m.a)(M);if(i){console.log("SEND available"),n=[].concat(Object(m.a)(n),[G]);var a=i.params.map((function(e,t){return{name:"SEND."+e.name,type:e.type}}));a=a.filter((function(e){return"float"===e.type})),t=[].concat(Object(m.a)(t),Object(m.a)(a))}else{var r=l.filter((function(e){return"float"===e.type}));t=[].concat(Object(m.a)(t),Object(m.a)(r))}x(t);var c=[].concat(Object(m.a)(t),Pt);if(console.log(u),u){console.log(u),n=[].concat(Object(m.a)(n),[H,B]);var s=u.params.map((function(e,t){return{name:"RCV."+e.name,type:e.type}}));s=s.filter((function(e){return"float"===e.type})),c=[].concat(Object(m.a)(c),Object(m.a)(s))}L(n),g(c);var o=l.filter((function(e){return"enum"===e.type}));E(o);var b=l.filter((function(e){return"list"===e.type}));b=[].concat(Object(m.a)(b),[J]),R(b);var d=[];d=b.filter((function(e){return"conn"===e.mode})),I(d),d=b.filter((function(e){return"msg"===e.mode})),T(d)}),[j]),!n)return Object(O.jsx)(O.Fragment,{});switch(c){case"subset":return Object(O.jsx)(At,{save:t,setEditOn:r,lhsCandidates:V,rhsCandidates:V,numCandidates:v});case"send":return Object(O.jsx)(Ft,{save:t,setEditOn:r,connLists:Object.values(Object(s.a)({},void 0!==u?[].concat(Object(m.a)(k),[B]):Object(m.a)(k)))});case"get_len":return Object(O.jsx)(Tt,{save:t,setEditOn:r,lhsCandidates:f,rhsCandidates:V});case"assign_enum":return Object(O.jsx)(Nt,{save:t,setEditOn:r,variables:y});case"add_element":return Object(O.jsx)(wt,{save:t,setEditOn:r,lhsCandidates:V,rhsCandidates:M});case"rem_element":return Object(O.jsx)(_t,{save:t,setEditOn:r,lhsCandidates:V,rhsCandidates:M});case"rem_n_el":return Object(O.jsx)(kt,{save:t,setEditOn:r,variables:V});case"clr_list":return Object(O.jsx)(It,{save:t,setEditOn:r,variables:V});case"cond_list":return Object(O.jsx)(Et,{save:t,setEditOn:r,rhsCandidates:V,lhsCandidates:M});case"assign_float":return Object(O.jsx)(Ct,{save:t,setEditOn:r,lhsCandidates:f,rhsCandidates:v});case"expr":return Object(O.jsx)(jt,{save:t,setEditOn:r,lhsCandidates:f,rhsCandidates:v});case"decl":return Object(O.jsx)(dt,{save:t,setEditOn:r,variables:v});case"cond_float":return Object(O.jsx)(ft,{save:t,setEditOn:r,variables:v});case"cond_enum":return Object(O.jsx)(mt,{save:t,setEditOn:r,variables:y});case"while_float":return Object(O.jsx)(St,{save:t,setEditOn:r,variables:v});case"while_enum":return Object(O.jsx)(vt,{save:t,setEditOn:r,variables:y});case"endb":return Object(O.jsx)(pt,{save:t});default:return Object(O.jsx)(O.Fragment,{})}},Rt=function(e){var t=e.save,n=e.rcvMsg,r=Object(a.useState)(!1),c=Object(o.a)(r,2),i=c[0],s=c[1],u=Object(a.useState)("expr"),l=Object(o.a)(u,2),b=l[0],d=l[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(h.a,{direction:"row",sx:{display:"flex"},children:[Object(O.jsxs)(j.a,{sx:{width:"100%"},children:[Object(O.jsxs)(De.a,{sx:{width:"100%"},value:b,onChange:function(e){return d(e.target.value)},children:[Object(O.jsx)(We.a,{value:"assign_float",children:" Assignment (number) "}),Object(O.jsx)(We.a,{value:"expr",children:" Math Expression "}),Object(O.jsx)(We.a,{value:"decl",children:" Declaration "}),Object(O.jsx)(We.a,{value:"cond_float",children:" Conditional (number) "}),Object(O.jsx)(We.a,{value:"cond_enum",children:" Conditional (enum) "}),Object(O.jsx)(We.a,{value:"cond_list",children:" Conditional (list) "}),Object(O.jsx)(We.a,{value:"while_float",children:" Do while Condition (number) "}),Object(O.jsx)(We.a,{value:"while_enum",children:" Do while Condition (enum) "}),Object(O.jsx)(We.a,{value:"endb",children:" End Block (condition/while) "})]}),Object(O.jsx)(it.a,{children:" Choose statement type "})]}),Object(O.jsx)(Ue.a,{sx:{width:60,p:"10px"},color:"primary",onClick:function(e){return s(!0)},disabled:i,children:Object(O.jsx)(ot.a,{sx:{fontSize:"45px"}})})]}),Object(O.jsx)(Vt,{save:t,editOn:i,setEditOn:s,statementType:b,rcvMsg:n})]})},Dt=function(e){var t=e.save,n=e.rcvMsg,r=Object(a.useState)(!1),c=Object(o.a)(r,2),i=c[0],s=c[1],u=Object(a.useState)("expr"),l=Object(o.a)(u,2),b=l[0],d=l[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(h.a,{direction:"row",sx:{display:"flex"},children:[Object(O.jsxs)(j.a,{sx:{width:"100%"},children:[Object(O.jsxs)(De.a,{sx:{width:"100%"},value:b,onChange:function(e){return d(e.target.value)},children:[Object(O.jsx)(We.a,{value:"assign_float",children:" Assignment (number) "}),Object(O.jsx)(We.a,{value:"assign_enum",children:" Assignment (enum) "}),Object(O.jsx)(We.a,{value:"expr",children:" Math Expression "}),Object(O.jsx)(We.a,{value:"decl",children:" Declaration "}),Object(O.jsx)(We.a,{value:"cond_float",children:" Conditional (number) "}),Object(O.jsx)(We.a,{value:"cond_enum",children:" Conditional (enum) "}),Object(O.jsx)(We.a,{value:"cond_list",children:" Conditional (list) "}),Object(O.jsx)(We.a,{value:"while_float",children:" Do while Condition (number) "}),Object(O.jsx)(We.a,{value:"while_enum",children:" Do while Condition (enum) "}),Object(O.jsx)(We.a,{value:"endb",children:" End Block (condition/while) "})]}),Object(O.jsx)(it.a,{children:" Choose statement type "})]}),Object(O.jsx)(Ue.a,{sx:{width:60,p:"10px"},color:"primary",onClick:function(e){return s(!0)},disabled:i,children:Object(O.jsx)(ot.a,{sx:{fontSize:"45px"}})})]}),Object(O.jsx)(Vt,{save:t,editOn:i,setEditOn:s,statementType:b,rcvMsg:n})]})},Wt=function(e){var t=e.save,n=e.rcvMsg,r=Object(a.useState)(!1),c=Object(o.a)(r,2),i=c[0],s=c[1],u=Object(a.useState)("expr"),l=Object(o.a)(u,2),b=l[0],d=l[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(h.a,{direction:"row",sx:{display:"flex"},children:[Object(O.jsxs)(j.a,{sx:{width:"100%"},children:[Object(O.jsxs)(De.a,{sx:{width:"100%"},value:b,onChange:function(e){return d(e.target.value)},children:[Object(O.jsx)(We.a,{value:"add_element",children:" Add element to list "}),Object(O.jsx)(We.a,{value:"rem_element",children:" Remove element from list "}),Object(O.jsx)(We.a,{value:"rem_n_el",children:" Remove some elements from list "}),Object(O.jsx)(We.a,{value:"clr_list",children:" Clear list "}),Object(O.jsx)(We.a,{value:"subset",children:" Store subset of a list "}),Object(O.jsx)(We.a,{value:"get_len",children:" Get length of a list "}),Object(O.jsx)(We.a,{value:"expr",children:" Math Expression "}),Object(O.jsx)(We.a,{value:"decl",children:" Declaration "}),Object(O.jsx)(We.a,{value:"cond_float",children:" Conditional (number) "}),Object(O.jsx)(We.a,{value:"cond_enum",children:" Conditional (enum) "}),Object(O.jsx)(We.a,{value:"cond_list",children:" Conditional (list) "}),Object(O.jsx)(We.a,{value:"while_float",children:" Do while Condition (number) "}),Object(O.jsx)(We.a,{value:"while_enum",children:" Do while Condition (enum) "}),Object(O.jsx)(We.a,{value:"endb",children:" End Block (condition/while) "})]}),Object(O.jsx)(it.a,{children:" Choose statement type "})]}),Object(O.jsx)(Ue.a,{sx:{width:60,p:"10px"},color:"primary",onClick:function(e){return s(!0)},disabled:i,children:Object(O.jsx)(ot.a,{sx:{fontSize:"45px"}})})]}),Object(O.jsx)(Vt,{save:t,editOn:i,setEditOn:s,statementType:b,rcvMsg:n})]})},Mt=function(e){var t=e.save,n=e.rcvMsg,r=e.sndMsg,c=Object(a.useState)("assign_float"),i=Object(o.a)(c,2),s=i[0],u=i[1],l=Object(a.useState)(!1),b=Object(o.a)(l,2),d=b[0],f=b[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(h.a,{direction:"row",sx:{display:"flex"},children:[Object(O.jsxs)(j.a,{sx:{width:"100%"},children:[Object(O.jsxs)(De.a,{sx:{width:"100%"},value:s,onChange:function(e){return u(e.target.value)},children:[Object(O.jsx)(We.a,{value:"assign_float",children:" Assignment (number) "}),Object(O.jsx)(We.a,{value:"expr",children:" Math Expression "}),Object(O.jsx)(We.a,{value:"decl",children:" Declaration "}),Object(O.jsx)(We.a,{value:"cond_float",children:" Conditional (number) "}),Object(O.jsx)(We.a,{value:"cond_enum",children:" Conditional (enum) "}),Object(O.jsx)(We.a,{value:"cond_list",children:" Conditional (list) "}),Object(O.jsxs)(We.a,{value:"while_float",children:[" ","Do while Condition (number)"," "]}),Object(O.jsxs)(We.a,{value:"while_enum",children:[" ","Do while Condition (enum)"," "]}),Object(O.jsx)(We.a,{value:"endb",children:" End Block (condition/while) "}),Object(O.jsx)(We.a,{value:"send",children:" Send Message to "})]}),Object(O.jsx)(it.a,{children:" Choose statement type "})]}),Object(O.jsx)(Ue.a,{sx:{width:60,p:"10px"},color:"primary",onClick:function(e){return f(!0)},disabled:d,children:Object(O.jsx)(ot.a,{sx:{fontSize:"45px"}})})]}),Object(O.jsx)(Vt,{save:t,editOn:d,setEditOn:f,statementType:s,sndMsg:r,rcvMsg:n})]})},Lt=function(e){var t=e.onClose,n=e.open,r=e.rcvMsg,c=Object(Le.b)(),i=Object(a.useState)("modify_self"),s=Object(o.a)(i,2),u=s[0],l=s[1],j=Object(a.useState)(-1),b=Object(o.a)(j,2),d=b[0],f=b[1],x=Object(a.useState)(""),h=Object(o.a)(x,2),v=h[0],C=h[1],y=Object(a.useState)(!1),E=Object(o.a)(y,2),I=E[0],N=E[1],F=Object(Le.c)(Se),T=Object(a.useState)(""),A=Object(o.a)(T,2),P=A[0],V=A[1],R=Object(a.useState)(!1),D=Object(o.a)(R,2),W=D[0],M=D[1],L=Object(a.useState)(!1),B=Object(o.a)(L,2),H=B[0],G=B[1],J=Object(a.useState)([]),U=Object(o.a)(J,2),Q=U[0],q=U[1],K=Object(a.useState)(!1),$=Object(o.a)(K,2),Y=$[0],Z=$[1],X=Object(a.useState)([]),ee=Object(o.a)(X,2),te=ee[0],ne=ee[1],ae=Object(Le.c)(z),re=Object(Le.c)(Ce),ce=Object(Le.c)(le),ie=function(e,t){q([].concat(Object(m.a)(Q),[e])),ne([].concat(Object(m.a)(te),[t]))},se=function(){c(xe),l("modify_self"),f(-1),N(!1),V(""),M(!1),q([]),ne([])},oe=function(e){var t=0,n=[];return I&&(n=function(){var e=Q.reduce((function(e,t,n){return t.startsWith("End")&&e.push(n),e}),[]),t=Q.reduce((function(e,t,n){return t.startsWith("If")&&e.push(n),e}),[]),n=[],a=[];return Q.forEach((function(r,c){void 0!==t.find((function(e){return e===c}))&&n.push(c),void 0!==e.find((function(e){return e===c}))&&(0===n.length&&a.push(c),n.pop())})),[].concat(n,a)}()),Object(O.jsx)("ul",{children:Q.map((function(e,a){var r=0;e.startsWith("If")||e.startsWith("While")?(t+=4,r=-4):e.startsWith("End")&&(t-=4);var c="black";return n.length>0&&-1!==n.findIndex((function(e){return e===a}))&&(c="red"),Object(O.jsxs)("li",{style:{marginLeft:Math.max(t+r,0)+"em",color:c},children:[" ",e," "]})}))})},ue=function(e){if(void 0===e.param)return Object(O.jsx)(O.Fragment,{});switch(e.param.type){case"float":return Object(O.jsx)(Rt,{save:ie,rcvMsg:r});case"enum":return Object(O.jsx)(Dt,{save:ie,rcvMsg:r});case"list":return Object(O.jsx)(Wt,{save:ie,rcvMsg:r});default:return Object(O.jsx)(O.Fragment,{})}};return Object(O.jsx)(g.a,{fullScreen:!0,onClose:t,open:n,disableAutoFocus:!0,disableEnforceFocus:!0,children:Object(O.jsxs)(k.a,{sx:{padding:3},children:[Object(O.jsx)(S.a,{children:" New action "}),Object(O.jsxs)(ct.a,{fullWidth:!0,children:[Object(O.jsx)(p.a,{value:P,onChange:function(e){return V(e.target.value)},label:"Action name"}),Object(O.jsxs)(De.a,{value:u,onChange:function(e){return l(e.target.value)},sx:{marginTop:1},children:[Object(O.jsx)(We.a,{value:"modify_self",children:" Modify Self "}),Object(O.jsx)(We.a,{value:"send_msg",children:" Send message "})]}),"modify_self"===u?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(De.a,{value:d,onChange:function(e){return f(e.target.value)},sx:{marginTop:1},children:[Object(O.jsx)(We.a,{value:-1,children:Object(O.jsx)("em",{children:"param..."})}),ae.map((function(e,t){return Object(O.jsxs)(We.a,{value:t,children:[" ",e.name," (",e.type,") "]})}))]}),Object(O.jsxs)(it.a,{children:[-1===d?"Select param to change":""," "]}),Object(O.jsx)(oe,{}),Object(O.jsx)(ue,{param:ae[d]})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p.a,{value:v,onChange:function(e){C(e.target.value)},label:"Send message type",select:!0,sx:{marginTop:1},children:ce.map((function(e,t){return Object(O.jsxs)(We.a,{value:t,children:[" ",e.name,"_",e.type," "]})}))}),Object(O.jsx)(oe,{}),Object(O.jsx)(Mt,{save:ie,rcvMsg:r,sndMsg:ce[v]})]})]}),I?Object(O.jsx)(_.a,{severity:"error",onClose:function(e){return N(!1)},children:"Error saving! There is a conditional or a loop without matching close block"}):Object(O.jsx)(O.Fragment,{}),W?Object(O.jsxs)(_.a,{severity:"error",onClose:function(e){return M(!1)},children:["Error saving! You need to set a unique name for the action, and it cannot be a number!"," "]}):Object(O.jsx)(O.Fragment,{}),H?Object(O.jsx)(_.a,{severity:"error",onClose:function(e){return G(!1)},children:"Error saving! Please choose a message type to send!"}):Object(O.jsx)(O.Fragment,{}),Y?Object(O.jsx)(_.a,{severity:"error",onClose:function(e){return Z(!1)},children:"Error saving! Action needs to contain some statements!"}):Object(O.jsx)(O.Fragment,{}),Object(O.jsxs)(w.a,{variant:"contained",onClick:function(){console.log(ce);var e=!1;G(!1),M(!1),N(!1),Z(!1),re&&(N(!0),e=!0),0===Q.length&&(Z(!0),e=!0),""!==P&&isNaN(P)?F.find((function(e){return e.name===P}))&&(M(!0),e=!0):(M(!0),e=!0);var n="ACTION "+P+","+u;if("send_msg"===u&&(void 0===ce[v]&&(e=!0,G(!0)),n+=", "+ce[v].name+", "+ce[v].type),n+="\n",!e){for(var a=[],r=Object(m.a)(te);-1!==r.findIndex((function(e){return e.startsWith("DECL")}));){var c=r.findIndex((function(e){return e.startsWith("DECL")}));a.push(r[c]),r.splice(c,1)}r.forEach((function(e){return a.push(e)})),a.forEach((function(e){return n+=e+"\n"})),n+="EACTION\n";var i=Q.join("\n"),s={name:P,code:n,script:i};se(),t(s)}},children:[" ","Save action"," "]}),Object(O.jsx)(w.a,{variant:"outlined",onClick:function(){se(),t(null)},sx:{margin:2},children:"Cancel"})]})})},Bt=function(e){var t=e.onClose,n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(!1),u=Object(o.a)(s,2),l=u[0],j=u[1],b=Object(a.useState)(!1),d=Object(o.a)(b,2),f=d[0],x=d[1],h=Object(a.useState)(""),v=Object(o.a)(h,2),g=v[0],S=v[1],C=Object(a.useState)(!1),y=Object(o.a)(C,2),E=y[0],k=y[1],I=Object(Le.b)(),N=Object(Le.c)(Se);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Lt,{open:l,onClose:function(e){null!==e&&I(he(e)),I(xe),j(!1)}}),Object(O.jsx)(Re.a,{fullWidth:!0,children:Object(O.jsx)(p.a,{variant:"outlined",label:"Name",id:"behav_name",value:c,onChange:function(e){return i(e.target.value)}})}),Object(O.jsx)("p",{children:Object(O.jsx)("b",{children:"Actions: "})}),N.map((function(e,t){return Object(O.jsxs)("p",{children:[" ",e.name," "]})})),f?Object(O.jsxs)(_.a,{severity:"error",onClose:function(e){return x(!1)},children:["Name Error! ",g]}):Object(O.jsx)(O.Fragment,{}),E?Object(O.jsx)(_.a,{severity:"error",onClose:function(e){return k(!1)},children:"Error saving! Please add some actions!"}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(w.a,{onClick:function(e){return j(!0)},children:" Add Action "}),Object(O.jsx)(w.a,{onClick:function(){var e=!1;if(0!==Ae(c)){e=!0;var n=Ae(c),a=Ie.find((function(e){return e.code===n}));S(a.info),x(!0)}if(0===N.length&&(e=!0,k(!0)),!e){var r="BEHAV "+c+", setup\n";N.forEach((function(e){return r+=e.code})),r+="EBEHAV\n";var i={name:c,actions:Object(m.a)(N),code:r};I(B(i)),I(xe),I(se(c)),t()}},children:" Add Behaviour "})]})},Ht=function(e){var t=e.onClose,n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(0),u=Object(o.a)(s,2),l=u[0],j=u[1],b=Object(a.useState)(!1),d=Object(o.a)(b,2),f=d[0],x=d[1],h=Object(a.useState)(!1),v=Object(o.a)(h,2),g=v[0],S=v[1],C=Object(a.useState)(""),y=Object(o.a)(C,2),E=y[0],k=y[1],I=Object(a.useState)(!1),N=Object(o.a)(I,2),F=N[0],T=N[1],A=Object(Le.b)(),P=Object(Le.c)(Se);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Lt,{open:f,onClose:function(e){null!==e&&A(he(e)),A(xe),x(!1)}}),Object(O.jsxs)(Re.a,{fullWidth:!0,children:[Object(O.jsx)(p.a,{variant:"outlined",label:"Name",id:"behav_name",value:c,onChange:function(e){return i(e.target.value)}}),Object(O.jsx)(p.a,{sx:{marginTop:2},label:"Delay",id:"behav_delay",type:"number",value:l,onChange:function(e){return j(e.target.value)},InputProps:{startAdornment:Object(O.jsx)(Ze.a,{position:"start",children:"s"})}})]}),Object(O.jsx)("p",{children:Object(O.jsx)("b",{children:"Actions: "})}),P.map((function(e,t){return Object(O.jsxs)("p",{children:[" ",e.name," "]})})),g?Object(O.jsxs)(_.a,{severity:"error",onClose:function(e){return S(!1)},children:["Name Error! ",E]}):Object(O.jsx)(O.Fragment,{}),F?Object(O.jsx)(_.a,{severity:"error",onClose:function(e){return T(!1)},children:"Error saving! Please add some actions!"}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(w.a,{onClick:function(e){return x(!0)},children:" Add Action "}),Object(O.jsx)(w.a,{onClick:function(){var e=!1;if(0!==Ae(c)){e=!0;var n=Ae(c),a=Ie.find((function(e){return e.code===n}));k(a.info),S(!0)}if(0===P.length&&(e=!0,T(!0)),!e){var r="BEHAV "+c+", one_time,"+l+"\n";P.forEach((function(e){return r+=e.code})),r+="EBEHAV\n";var i={name:c,actions:Object(m.a)(P),code:r};A(B(i)),A(xe),A(se(c)),t()}},children:" Add Behaviour "})]})},zt=function(e){var t=e.onClose,n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(0),u=Object(o.a)(s,2),l=u[0],j=u[1],b=Object(a.useState)(!1),d=Object(o.a)(b,2),f=d[0],x=d[1],h=Object(a.useState)(!1),v=Object(o.a)(h,2),g=v[0],S=v[1],C=Object(a.useState)(""),y=Object(o.a)(C,2),E=y[0],k=y[1],I=Object(a.useState)(!1),N=Object(o.a)(I,2),F=N[0],T=N[1],A=Object(Le.b)(),P=Object(Le.c)(Se);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Lt,{open:f,onClose:function(e){null!==e&&A(he(e)),A(xe),x(!1)}}),Object(O.jsxs)(Re.a,{fullWidth:!0,children:[Object(O.jsx)(p.a,{variant:"outlined",label:"Name",id:"behav_name",value:c,onChange:function(e){return i(e.target.value)}}),Object(O.jsx)(p.a,{sx:{marginTop:2},label:"Delay",id:"behav_delay",type:"number",value:l,onChange:function(e){return j(e.target.value)},InputProps:{startAdornment:Object(O.jsx)(Ze.a,{position:"start",children:"s"})}})]}),Object(O.jsx)("p",{children:Object(O.jsx)("b",{children:"Actions: "})}),P.map((function(e,t){return Object(O.jsxs)("p",{children:[" ",e.name," "]})})),g?Object(O.jsxs)(_.a,{severity:"error",onClose:function(e){return S(!1)},children:["Name Error! ",E]}):Object(O.jsx)(O.Fragment,{}),F?Object(O.jsx)(_.a,{severity:"error",onClose:function(e){return T(!1)},children:"Error saving! Please add some actions!"}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(w.a,{onClick:function(e){return x(!0)},children:" Add Action "}),Object(O.jsx)(w.a,{onClick:function(){var e=!1;if(0!==Ae(c)){e=!0;var n=Ae(c),a=Ie.find((function(e){return e.code===n}));k(a.info),S(!0)}if(0===P.length&&(e=!0,T(!0)),!e){var r="BEHAV "+c+", cyclic,"+l+"\n";P.forEach((function(e){return r+=e.code})),r+="EBEHAV\n";var i={name:c,actions:Object(m.a)(P),code:r};A(B(i)),A(xe),A(se(c)),t()}},children:" Add Behaviour "})]})},Gt=function(e){var t=e.onClose,n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(0),u=Object(o.a)(s,2),l=u[0],j=u[1],b=Object(a.useState)(!1),d=Object(o.a)(b,2),f=d[0],x=d[1],h=Object(a.useState)(!1),v=Object(o.a)(h,2),g=v[0],S=v[1],C=Object(a.useState)(""),y=Object(o.a)(C,2),E=y[0],k=y[1],I=Object(a.useState)(!1),N=Object(o.a)(I,2),F=N[0],T=N[1],A=Object(a.useState)(!1),P=Object(o.a)(A,2),V=P[0],R=P[1],D=Object(Le.b)(),W=Object(Le.c)(Se),M=Object(Le.c)(le);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Lt,{open:f,onClose:function(e){null!==e&&D(he(e)),D(xe),x(!1)},rcvMsg:M[l]}),Object(O.jsxs)(Re.a,{fullWidth:!0,children:[Object(O.jsx)(p.a,{variant:"outlined",label:"Name",id:"behav_name",value:c,onChange:function(e){return i(e.target.value)}}),Object(O.jsx)(p.a,{value:l,onChange:function(e){return j(e.target.value)},label:"Message type",select:!0,sx:{marginTop:2},children:M.map((function(e,t){return Object(O.jsxs)(We.a,{value:t,children:[" ",e.name,"_",e.type," "]})}))})]}),Object(O.jsx)("p",{children:Object(O.jsx)("b",{children:"Actions: "})}),W.map((function(e,t){return Object(O.jsxs)("p",{children:[" ",e.name," "]})})),g?Object(O.jsxs)(_.a,{severity:"error",onClose:function(e){return S(!1)},children:["Name Error! ",E]}):Object(O.jsx)(O.Fragment,{}),F?Object(O.jsx)(_.a,{severity:"error",onClose:function(e){return T(!1)},children:"Error saving! Please add some actions!"}):Object(O.jsx)(O.Fragment,{}),V?Object(O.jsx)(_.a,{severity:"error",onClose:function(e){return R(!1)},children:"Erro saving! Please select a valid message type!"}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(w.a,{onClick:function(e){return x(!0)},children:" Add Action "}),Object(O.jsx)(w.a,{onClick:function(){var e=!1;if(0!==Ae(c)){e=!0;var n=Ae(c),a=Ie.find((function(e){return e.code===n}));k(a.info),S(!0)}if(0===W.length&&(e=!0,T(!0)),void 0===M[l]&&(e=!0,R(!0)),!e){var r="BEHAV "+c+",msg_rcv,"+M[l].name+","+M[l].type+"\n";W.forEach((function(e){return r+=e.code})),r+="EBEHAV\n";var i={name:c,actions:Object(m.a)(W),code:r};D(B(i)),D(xe),D(ve),D(se(c)),t()}},children:" Add Behaviour "})]})},Jt=function(e){var t=e.handleClose,n=e.open,a=e.type,r=Object(Le.b)(),c=function(){r(ve()),t(!1)},i=function(){switch(a){case"onSetup":return Object(O.jsx)(Bt,{onClose:c});case"oneTime":return Object(O.jsx)(Ht,{onClose:c});case"cyclic":return Object(O.jsx)(zt,{onClose:c});case"onMessageReceive":return Object(O.jsx)(Gt,{onClose:c});default:return Object(O.jsx)(O.Fragment,{})}};return Object(O.jsx)(g.a,{onClose:function(e){return r(ve()),void t()},open:n,children:Object(O.jsxs)(k.a,{sx:{padding:3,width:"35em"},children:[Object(O.jsx)(S.a,{children:" New behaviour "}),Object(O.jsx)(i,{})]})})},Ut=n(209),Qt=n(217),qt=function(e){var t=e.name,n=e.collection,a=e.options,r=e.handleParamTypeChange,c=e.collectionItemClick,i=e.collectionDisplayFunction,s=function(e){return e.name};return Object(O.jsx)(j.a,{sx:{maxWidth:360,minWidth:360,bgcolor:"background.paper",display:"inline-block"},children:Object(O.jsxs)("nav",{"aria-label":"main parameters",children:[Object(O.jsxs)("h2",{children:[" ",t," "]}),Object(O.jsx)(Ge.a,{sx:{minHeight:422,maxHeight:422,border:"solid",borderColor:"black",overflow:"auto"},children:n.map((function(e,t){return Object(O.jsx)($e.a,{disablePadding:!0,onClick:function(e){return c(t)},children:Object(O.jsx)(Ut.a,{children:Object(O.jsx)(Ye.a,{primary:void 0===i?s(e):i(e)})})},t)}))}),Object(O.jsxs)(Re.a,{fullWidth:!0,sx:{marginTop:2},children:[Object(O.jsx)(Qt.a,{children:" Select type "}),Object(O.jsx)(De.a,{label:"Select type",children:a.map((function(e){return Object(O.jsx)(We.a,{value:e.value,onClick:r,children:e.display})}))})]})]})})},Kt=function(e){var t=e.name,n=e.collection,a=e.onItemClick,r=e.selectedItem;return Object(O.jsx)(j.a,{sx:{width:"100%",height:600,maxWidth:360,bgcolor:"background.paper",display:"inline-block"},children:Object(O.jsxs)("nav",{"aria-label":"main agents",children:[Object(O.jsxs)("h2",{children:[" ",t," "]}),Object(O.jsx)(Ge.a,{sx:{minHeight:550,maxHeight:550,overflow:"auto",border:"solid",borderColor:"black"},children:n.map((function(e,t){return Object(O.jsx)($e.a,{sx:t===r?{bgcolor:"#1976d2",color:"white"}:{},disablePadding:!0,onClick:function(){return a(e,t)},children:Object(O.jsx)(Ut.a,{children:Object(O.jsx)(Ye.a,{primary:e})})})}))})]})})};function $t(e){var t=Object(Le.b)(),n=r.a.useState(!1),a=Object(o.a)(n,2),c=a[0],i=a[1],s=r.a.useState(!1),u=Object(o.a)(s,2),l=u[0],b=u[1],d=r.a.useState(""),f=Object(o.a)(d,2),x=f[0],k=f[1],I=r.a.useState(""),N=Object(o.a)(I,2),F=N[0],T=N[1],A=r.a.useState(!1),P=Object(o.a)(A,2),V=P[0],R=P[1],D=r.a.useState(""),W=Object(o.a)(D,2),M=W[0],B=W[1],J=r.a.useState(!1),U=Object(o.a)(J,2),Q=U[0],q=U[1],K=r.a.useState(""),$=Object(o.a)(K,2),Y=$[0],Z=$[1],X=r.a.useState(!1),ee=Object(o.a)(X,2),te=ee[0],ne=ee[1],ae=r.a.useState(!1),re=Object(o.a)(ae,2),ce=re[0],oe=re[1],ue=Object(Le.c)(z),le=Object(Le.c)(G),be=Object(Le.c)(je),de=function(){R(!1)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(rt,{open:c,onClose:function(e){R(e),i(!1)},type:x,addParam:L}),Object(O.jsx)(Jt,{open:l,handleClose:function(e){R(e),b(!1)},type:F}),Object(O.jsxs)(g.a,{open:V,onClose:de,children:[Object(O.jsx)(S.a,{children:" Error while saving "}),Object(O.jsx)(C.a,{children:Object(O.jsx)(y.a,{children:"An error occured while attempting to save your data. This may be a result of incorrectly filling out the form."})}),Object(O.jsx)(E.a,{children:Object(O.jsx)(w.a,{onClick:de,children:"Ok"})})]}),Object(O.jsxs)(h.a,{direction:"row",divider:Object(O.jsx)(v.a,{orientation:"vertical",flexItem:!0,sx:{color:"black",borderColor:"black",borderWidth:1}}),spacing:2,children:[Object(O.jsx)(Kt,{name:"Created Agents",collection:be.map((function(e){return e.name}))}),Object(O.jsx)(j.a,{sx:{width:"100%",height:700,maxWidth:720,bgcolor:"background.paper",display:"inline-block",paddingTop:9,marginLeft:10},children:Object(O.jsxs)(h.a,{children:[Object(O.jsx)(j.a,{sx:{textAlign:"left"},children:Object(O.jsx)(p.a,{variant:"outlined",label:"Agent Type Name",id:"agent_type_input",value:M,onChange:function(e){return t=e.target.value,q(!1),void B(t);var t}})}),Object(O.jsxs)(h.a,{direction:"row",children:[Object(O.jsx)(qt,{name:"Parameters",collection:ue,collectionDisplayFunction:function(e){return e.name+" ("+e.type+")"},options:[{value:"float",display:"Float"},{value:"enum",display:"Enumerable"},{value:"list",display:"Connections/Messages"}],handleParamTypeChange:function(e){k(e.target.dataset.value),i(!0)},collectionItemClick:function(){}}),Object(O.jsx)(qt,{name:"Behaviours",collection:le,options:[{value:"onSetup",display:"Setup"},{value:"oneTime",display:"One Time"},{value:"cyclic",display:"Cyclic"},{value:"onMessageReceive",display:"On Message Receive"}],handleParamTypeChange:function(e){T(e.target.dataset.value),b(!0)},collectionItemClick:function(){}})]}),te?Object(O.jsx)(_.a,{severity:"error",onClose:function(e){return ne(!1)},children:"Error saving! Please add some behaviours"}):Object(O.jsx)(O.Fragment,{}),ce?Object(O.jsx)(_.a,{severity:"error",onClose:function(e){return oe(!1)},children:"Error saving! Please add some parameters"}):Object(O.jsx)(O.Fragment,{}),Q?Object(O.jsxs)(_.a,{severity:"error",onClose:function(e){return q(!1)},children:["Name Error: ",Y]}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(w.a,{variant:"contained",onClick:function(){var e=!1;if(0!==Fe(M)){e=!0;var n=Fe(M),a=Ie.find((function(e){return e.code===n}));Z(a.info),q(!0)}if(0===le.length&&(e=!0,ne(!0)),0===ue.length&&(e=!0,oe(!0)),!e){var r="AGENT "+M+"\n";ue.forEach((function(e){return r+=function(e){var t="PRM "+e.name+",";switch(e.type){case"float":switch(t+="float,",e.mode){case"init":return t+="init,"+e.value+"\n";case"distribution":return t+="dist,"+e.distribution+",",e.distribution_args.forEach((function(e){return t+=e+","})),t=t.slice(0,-1)+"\n";default:return""}case"enum":return t+="enum",e.values.forEach((function(e){return t+=","+e.name+","+e.percentage})),t+"\n";case"list":switch(t+="list,",e.mode){case"conn":return t+"conn\n";case"msg":return t+"msg\n";default:return""}default:return""}}(e)})),le.forEach((function(e){return r+=e.code})),r+="EAGENT\n";var c={name:M,params:Object(m.a)(ue),behavs:Object(m.a)(le),code:r};t(ie(c)),t(se(M)),B(""),console.log("Saving done!"),t(H())}},children:" Add Agent "})]})})]})]})}var Yt=function(e){var t=e.save,n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)({}),u=Object(o.a)(s,2),l=u[0],j=u[1];return Object(a.useEffect)((function(){!function(){var e={};e.name=c,e.type="float",j(e)}()}),[c]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Re.a,{fullWidth:!0,sx:{marginTop:2},children:Object(O.jsx)(p.a,{variant:"outlined",label:"Name",id:"param_name",value:c,onChange:function(e){return i(e.target.value)}})}),Object(O.jsx)(w.a,{onClick:function(e){return t(l)},children:" Add parameter "})]})},Zt=function(e){var t=e.onClose,n=e.open,a=e.type,r=e.addParam,c=Object(Le.b)(),i=function(e){var n,a={};n=e.name,(Ee.getState().simulation.names.find((function(e){return e===n}))?(console.log("namae wa duplicatedo"),0):""===n?(console.log("namae wa emptey"),0):Pe(n)?(console.log("namawe wa blanku spaco"),0):isNaN(parseFloat(n[0]))?!ke.test(n)||(console.log("namae wa charactero specialo"),0):(console.log("namae wa numero"),0))?(a.name=e.name,a.type=e.type,c(r(a)),t(!1)):t(!0)},s=function(){switch(a){case"float":return Object(O.jsx)(Yt,{save:i});default:return Object(O.jsx)(O.Fragment,{})}};return Object(O.jsx)(g.a,{onClose:function(e,n){t(!1)},open:n,disableAutoFocus:!0,disableEnforceFocus:!0,children:Object(O.jsxs)(k.a,{sx:{padding:3},children:[Object(O.jsx)(S.a,{children:" New parameter "}),Object(O.jsx)(s,{})]})})};function Xt(){var e=Object(Le.b)(),t=[{value:"float",display:"Float"}],n=Object(a.useState)(7),r=Object(o.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(!1),u=Object(o.a)(s,2),l=u[0],b=u[1],d=Object(a.useState)(t[0].value),f=Object(o.a)(d,2),x=f[0],m=f[1],k=Object(a.useState)(""),I=Object(o.a)(k,2),N=I[0],F=I[1],T=Object(a.useState)(!1),A=Object(o.a)(T,2),P=A[0],V=A[1],R=Object(a.useState)(!1),D=Object(o.a)(R,2),W=D[0],M=D[1],L=Object(a.useState)(""),B=Object(o.a)(L,2),H=B[0],z=B[1],G=Object(Le.c)(Y),J=Object(Le.c)(le),U=function(){M(!1)},Q=function(t){e(K(t))};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Zt,{open:l,onClose:function(e){M(e),b(!1)},type:x,addParam:q}),Object(O.jsxs)(g.a,{open:W,onClose:U,children:[Object(O.jsx)(S.a,{children:" Error while saving "}),Object(O.jsx)(C.a,{children:Object(O.jsx)(y.a,{children:"An error occured while attempting to save your data. This may be a result of incorrectly filling out the form."})}),Object(O.jsx)(E.a,{children:Object(O.jsx)(w.a,{onClick:U,children:"Ok"})})]}),Object(O.jsxs)(h.a,{direction:"row",divider:Object(O.jsx)(v.a,{orientation:"vertical",flexItem:!0,sx:{color:"black",borderColor:"black",borderWidth:1}}),spacing:2,children:[Object(O.jsx)(Kt,{name:"Created Messages",collection:J.map((function(e){return e.name})),onItemClick:Q}),Object(O.jsx)(j.a,{sx:{width:"100%",height:700,maxWidth:800,bgcolor:"background.paper",display:"inline-block",paddingTop:9,marginLeft:10},children:Object(O.jsxs)(h.a,{children:[Object(O.jsxs)(j.a,{sx:{textAlign:"left"},children:[Object(O.jsx)(p.a,{variant:"outlined",label:"Message Type Name",id:"message_name_input",value:N,onChange:function(e){return t=e.target.value,V(!1),void F(t);var t}}),Object(O.jsx)(De.a,{value:c,onChange:function(e){return i(e.target.value)},sx:{width:250},children:_e.map((function(e,t){return Object(O.jsxs)(We.a,{value:t,children:[" ",e," "]})}))})]}),Object(O.jsx)(h.a,{direction:"row",children:Object(O.jsx)(qt,{name:"Parameters",collection:G,collectionItemClick:Q,options:t,handleParamTypeChange:function(e){m(e.target.dataset.value),b(!0)}})}),P?Object(O.jsxs)(_.a,{severity:"error",onClose:function(e){return V(!1)},children:["Name Error: ",H]}):Object(O.jsx)(O.Fragment,{}),Object(O.jsxs)(w.a,{variant:"contained",sx:{margin:2},onClick:function(){var t=!1;if(console.log(Te(N,_e[c])),0!==Te(N,_e[c])){var n=Te(N,_e[c]),a=Ie.find((function(e){return e.code===n}));z(a.info),t=!0,V(!0)}if(!t){V(!1);var r={};r.name=N,r.type=_e[c],r.params=G;var s="MESSAGE "+N+","+_e[c]+"\n";G.forEach((function(e){return s+="PRM "+e.name+",float\n"})),e($()),s+="EMESSAGE\n",r.code=s,F(""),i(7),e(ce(r))}},children:[" ","Add message"," "]})]})})]})]})}var en=n(222),tn=function(e){var t=e.agentData,n=e.index,r=e.handleChange,c=Object(a.useState)("%"),i=Object(o.a)(c,2),u=i[0],l=i[1],b=Object(a.useState)(""),d=Object(o.a)(b,2),f=d[0],x=d[1],v=Object(a.useState)(""),g=Object(o.a)(v,2),S=g[0],C=g[1],y=Object(a.useState)(""),E=Object(o.a)(y,2),w=E[0],_=E[1],k=Object(a.useState)(!1),I=Object(o.a)(k,2),N=I[0],F=I[1],T=Object(a.useState)({}),A=Object(o.a)(T,2),P=A[0],V=A[1],R=Object(a.useState)([]),D=Object(o.a)(R,2),W=D[0],M=D[1];Object(a.useEffect)((function(){L()}),[f,S,w,W]),Object(a.useEffect)((function(){r(P,n)}),[P]);var L=function(){var e=JSON.parse(JSON.stringify(t));if(e.err_flag=0,(isNaN(parseFloat(f))||parseFloat(f)<=0)&&(e.err_flag=1),"%"===u?e.amount=f+"%":"#"===u?e.amount=f:e.err_flag=2,isNaN(parseInt(S))){var n=Object.keys(Ve).find((function(e,t){return Ve[e].name===S}));if(void 0!==n)Ve[n].validate(W)?(e.draw_from_distribution=!0,e.distribution=n,e.dist_args=W):e.err_flag=4;else e.err_flag=3}else e.draw_from_distribution=!1,e.conn_amount=S;V(e)};return Object(O.jsxs)(h.a,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{height:"56px",width:"100%"},children:[Object(O.jsx)(j.a,{sx:{borderRight:"solid",borderColor:"black",width:"100%",whiteSpace:"nowrap",paddingLeft:"20px",paddingRight:"20px"},children:Object(O.jsx)(bt,{text:t.name})}),Object(O.jsx)(j.a,{sx:{borderRight:"solid",borderColor:"black",width:"100%",whiteSpace:"nowrap",paddingLeft:"20px",paddingRight:"20px"},children:Object(O.jsxs)(h.a,{direction:"row",spacing:2,children:[Object(O.jsx)(p.a,{type:"number",value:f,onChange:function(e){return t=e.target.value,x(t),void L();var t}}),Object(O.jsxs)(De.a,{value:u,onChange:function(e){return t=e.target.value,l(t),void L();var t},children:[Object(O.jsx)(We.a,{value:"%",children:" % of population "}),Object(O.jsx)(We.a,{value:"#",children:" number of agents "})]})]})}),Object(O.jsx)(j.a,{sx:{width:"100%",whiteSpace:"nowrap",p:"20px"},children:Object(O.jsxs)(h.a,{direction:"row",spacing:2,alignItems:"center",children:[Object(O.jsx)(ut.a,{freeSolo:!0,options:Object.keys(Ve).map((function(e,t){return Ve[e].name})),renderInput:function(e){return Object(O.jsx)(p.a,Object(s.a)({},e))},sx:{width:"150px"},value:S,inputValue:S,onInputChange:function(e,t){return function(e){C(e);var t=Object.keys(Ve).find((function(t,n){return Ve[t].name===e}));void 0!==t?(F(!0),_(t)):(F(!1),_("")),L()}(t)}}),N?Object(m.a)(Array(Ve[w].arg_count).keys()).map((function(e,t){return Object(O.jsx)(p.a,{label:Ve[w].param_names[t],type:"number",value:W[t],onChange:function(e){!function(e,t){var n=t.split("_");if(n=parseInt(n[n.length-1]),!isNaN(n)){var a=Object(m.a)(W);a[n]=e,M(a)}L()}(e.target.value,e.target.id)},InputProps:{inputProps:{step:.1}},sx:{margin:1,width:"80px"},id:w+"_param_"+t})})):Object(O.jsx)(O.Fragment,{})]})})]})},nn={1:"Amount of agents need to be a number!",2:"Invalid environment description mode. Contact developers.",3:"Amount of connections must be an integer or drawn from distribution!",4:"Invalid arguments for the distribution!"},an=function(e){var t=Object(Le.c)(je),n=Object(a.useState)([]),r=Object(o.a)(n,2),c=r[0],i=r[1],u=Object(a.useState)([]),l=Object(o.a)(u,2),b=l[0],d=l[1],f=e.codeCallback,x=e.displayError;Object(a.useEffect)((function(){if(console.log(c),-1!==c.findIndex((function(e,t){return e.err_flag>0})))f("ERROR","Fill out the form correctly!",{});else if(100!==c.reduce((function(e,t){return void 0===t.amount?e:"%"===t.amount.slice(-1)?(console.log(t.amount),e+parseFloat(t.amount)):e}),0))f("ERROR","Sum of percentages of population must be 100",{});else{var e="";c.forEach((function(t,n){e+=function(e){var t="DEFG ";return t+=e.name+", "+e.amount+", ",e.draw_from_distribution?(t+="dist_"+e.distribution+", ",t+=e.dist_args.join(", ")):t+=e.conn_amount,t}(t)+"\n"})),f(e,"generated statistical description",{agentData:c})}}),[c]);var p=function(e,t){var n=Object(m.a)(b);n[e]=t,d(n)};Object(a.useEffect)((function(){var e=[],n={name:"",amount:"0",conn_amount:0,draw_from_distribution:!1,distribution:"",dist_args:[],err_flag:0};t.forEach((function(t){n.name=t.name,e.push(Object(s.a)({},n))})),i(e);var a=[];a.length=t.length,a.fill(!1),d(a)}),[t]);var h=function(e,t){var n=Object(m.a)(c);n[t]=e,p(t,!0),i(n)};return Object(O.jsx)(j.a,{sx:{maxHeight:600,overflow:"auto"},children:Object(O.jsxs)(en.a,{container:!0,spacing:2,children:[Object(O.jsx)(en.a,{item:!0,xs:4,children:Object(O.jsx)("h2",{children:" Type "})}),Object(O.jsx)(en.a,{item:!0,xs:4,children:Object(O.jsx)("h2",{children:" Env % "})}),Object(O.jsx)(en.a,{item:!0,xs:4,children:Object(O.jsx)("h2",{children:" # of connections "})}),c.map((function(e,t){return Object(O.jsxs)(en.a,{item:!0,xs:12,children:[Object(O.jsx)(tn,{agentData:e,index:t,handleChange:h},t),e.err_flag>0&&b[t]&&x?Object(O.jsx)(_.a,{severity:"error",onClose:function(e){return p(t,!1)},children:nn[e.err_flag]}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(v.a,{})]})}))]})})},rn=["Statistical description","Custom method"],cn=function(e){var t=Object(Le.b)(),n=Object(a.useState)(0),r=Object(o.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(""),u=Object(o.a)(s,2),l=u[0],j=u[1],b=Object(a.useState)(!1),d=Object(o.a)(b,2),f=d[0],x=d[1],m=Object(a.useState)(!1),g=Object(o.a)(m,2),S=g[0],C=g[1],y=Object(a.useState)(""),E=Object(o.a)(y,2),k=E[0],I=E[1],N=Object(a.useState)(!1),F=Object(o.a)(N,2),T=F[0],A=F[1],P=Object(a.useState)(!1),V=Object(o.a)(P,2),R=V[0],D=V[1],W=Object(a.useState)(""),M=Object(o.a)(W,2),L=M[0],B=M[1],H=Object(a.useState)(!1),z=Object(o.a)(H,2),G=z[0],J=z[1],U=Object(a.useState)({}),Q=Object(o.a)(U,2),q=Q[0],K=Q[1],$=function(){x(!1),C(!1),A(!1)};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(h.a,{direction:"row",divider:Object(O.jsx)(v.a,{orientation:"vertical",flexItem:!0,sx:{color:"black",borderWidth:1}}),spacing:2,children:[Object(O.jsx)(Kt,{name:"Graph description type",collection:rn,onItemClick:function(e,t){i(t)},selectedItem:c}),Object(O.jsxs)(en.a,{container:!0,direction:"column",children:[Object(O.jsx)(en.a,{item:!0,sx:2,children:Object(O.jsx)(p.a,{label:"Graph Size",value:L,onChange:function(e){return B(e.target.value)}})}),Object(O.jsx)(en.a,{item:!0,sx:11,children:Object(O.jsx)(an,{codeCallback:function(e,t,n){A(!1),I(t),K(n),x(!1),C(!1),D(!1),"ERROR"===e?x(!0):(j(e),C(!0),D(!0))},displayError:G})}),Object(O.jsx)(en.a,{item:!0,sx:1,children:T?f?Object(O.jsxs)(_.a,{severity:"error",onClose:$,children:[" ",k]}):S?Object(O.jsx)(_.a,{severity:"success",onClose:$,children:" Saved sucessfully! "}):Object(O.jsx)(O.Fragment,{children:" "}):Object(O.jsx)(O.Fragment,{})}),Object(O.jsx)(en.a,{item:!0,sx:1,children:Object(O.jsx)(w.a,{variant:"contained",onClick:function(){switch(J(!0),A(!0),c){case 0:if(R){if(isNaN(parseInt(L))){C(!1),x(!0),I("Specify graph size!!!");break}C(!0);var e="GRAPH statistical\n";e+="SIZE "+L+"\n",e+=l,e+="EGRAPH\n";var n={type:"statistical",size:L,agents:q.agentData,code:e};t(oe(n))}}},sx:{margin:5},children:" Save Graph Description "})})]})]})})},sn=n(4);function on(){var e=r.a.useState([]),t=Object(o.a)(e,2),n=t[0],c=t[1],i=r.a.useState({}),u=Object(o.a)(i,2),l=u[0],j=u[1],b=r.a.useState(""),d=Object(o.a)(b,2),f=d[0],x=d[1],p=Object(Le.c)(le),v=Object(Le.c)(je),g=Object(Le.c)(ue),S=r.a.useState(""),C=Object(o.a)(S,2),y=C[0],E=C[1];Object(a.useEffect)((function(){var e=new WebSocket("ws://localhost:8000/simulations");console.debug("opened running simulations websocket"),e.onmessage=function(e){var t=JSON.parse(e.data);c(t.running_simulations)},e.onclose=function(){console.debug("closing running simulations websocket")}}),[]);var _,k=function(){var e=Object(T.a)(F.a.mark((function e(){var t,n,a,r,c,i,o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SIMULATION_LOAD_BALANCER_URL+"/simulations",console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})),console.log(t),n=y.split("\n"),console.log(n),a=JSON.stringify(n),console.log(a),console.log("Making request to: ",t),e.next=10,fetch(t,{method:"POST",data:a});case 10:return r=e.sent,console.log("Got response: ",r),e.next=14,r.json();case 14:c=e.sent,console.log(c),"id"in c&&(i=c.id,x(i),j((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(sn.a)({},i,[]))})),o=new WebSocket("ws://localhost:8000/simulations/".concat(i)),console.debug("opened ".concat(i," websocket")),o.onmessage=function(e){var t=JSON.parse(e.data),n=t.id,a=t.line;j((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(sn.a)({},n,[].concat(Object(m.a)(e[n]),[a])))}))},o.onclose=function(){console.debug("closing ".concat(i," websocket"))});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(T.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:8000/simulations/".concat(t),e.next=3,fetch(n,{method:"DELETE"});case 3:j((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(sn.a)({},t,[]))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{children:Object(O.jsxs)(h.a,{direction:"row",spacing:2,children:[Object(O.jsxs)(h.a,{direction:"column",spacing:2,children:[Object(O.jsx)(Kt,{name:"Running simulations",collection:n,onItemClick:x}),Object(O.jsx)(w.a,{onClick:k,children:"Start new simulation"}),Object(O.jsx)(w.a,{onClick:function(){return I(f)},children:"Delete selected simulation"})]}),Object(O.jsx)(Kt,{name:"Output",collection:(_=f,_ in l?l[_]:[])}),Object(O.jsxs)(h.a,{sx:{textAlign:"left",p:3},children:[y.split("\n").map((function(e,t){return Object(O.jsxs)("div",{children:[" ",e," "]},t)})),Object(O.jsx)(w.a,{onClick:function(e){!function(){var e="";p.forEach((function(t){return e+=t.code+"\n"})),v.forEach((function(t){return e+=t.code+"\n"})),e+=g.code,E(e)}()},children:" Generate code "})]})]})})}var un=function(){var e=r.a.useState(0),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(j.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(O.jsxs)(u.a,{value:n,onChange:function(e,t){a(t)},"aria-label":"basic tabs example",children:[Object(O.jsx)(l.a,Object(s.a)({label:"Agents"},x(0))),Object(O.jsx)(l.a,Object(s.a)({label:"Messages"},x(1))),Object(O.jsx)(l.a,Object(s.a)({label:"Graph"},x(2))),Object(O.jsx)(l.a,Object(s.a)({label:"Visualisation"},x(3)))]})}),Object(O.jsx)(f,{value:n,index:0,children:Object(O.jsx)($t,{})}),Object(O.jsx)(f,{value:n,index:1,children:Object(O.jsx)(Xt,{})}),Object(O.jsx)(f,{value:n,index:2,children:Object(O.jsx)(cn,{})}),Object(O.jsx)(f,{value:n,index:3,children:Object(O.jsx)(on,{})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(Le.a,{store:Ee,children:Object(O.jsx)(un,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[152,1,2]]]);
//# sourceMappingURL=main.9ecf5b93.chunk.js.map